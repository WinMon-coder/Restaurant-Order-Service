{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport TableView from \"../views/TableView.vue\";\nimport LoginView from \"@/views/LoginView.vue\";\nimport MenuView from \"../views/MenuView.vue\";\nimport OrderView from \"../views/OrderView.vue\";\nimport OrderDetail from \"../views/OrderDetail.vue\";\nimport ProfileView from \"../views/ProfileView.vue\";\nimport AdminUserView from \"../views/AdminUserView.vue\";\nimport AdminView from \"../views/AdminView.vue\";\nimport AdminCategoryView from \"../views/AdminCategoryView.vue\";\nimport AdminTableView from \"../views/AdminTableView.vue\";\nimport AdminDiscountView from \"../views/AdminDiscountView.vue\";\nimport state from \"@/store/state\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"*\",\n  redirect: \"/login\"\n}, {\n  path: \"/login\",\n  name: \"login\",\n  component: LoginView\n}, {\n  path: \"/table\",\n  name: \"table\",\n  component: TableView,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/menu\",\n  name: \"menu\",\n  component: MenuView,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/profile\",\n  name: \"profile\",\n  component: ProfileView,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/order\",\n  name: \"order\",\n  component: OrderView,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/order/:orderId\",\n  name: \"order_detail\",\n  props: true,\n  component: OrderDetail,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/admin/food\",\n  name: \"admin_food\",\n  component: AdminView,\n  meta: {\n    requiresAuth: true,\n    requiresAdmin: true\n  }\n}, {\n  path: \"/admin/user\",\n  name: \"admin_user\",\n  component: AdminUserView,\n  meta: {\n    requiresAuth: true,\n    requiresAdmin: true\n  }\n}, {\n  path: \"/admin/discount\",\n  name: \"admin_discount\",\n  component: AdminDiscountView,\n  meta: {\n    requiresAuth: true,\n    requiresAdmin: true\n  }\n}, {\n  path: \"/admin/category\",\n  name: \"admin_category\",\n  component: AdminCategoryView,\n  meta: {\n    requiresAuth: true,\n    requiresAdmin: true\n  }\n}, {\n  path: \"/admin/table\",\n  name: \"admin_table\",\n  component: AdminTableView,\n  meta: {\n    requiresAuth: true,\n    requiresAdmin: true\n  }\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  let loginUser = state.loginUser;\n  // let role = loginUser.userRoles[0].roleName;\n  let isLogin = sessionStorage.getItem(\"isLogin\");\n\n  // from - Home\n  // to - Profile\n  // Need to be login, But is not login\n  if (to.meta.requiresAuth == true && !isLogin) {\n    next({\n      path: \"/login\"\n    });\n    console.log(loginUser);\n  }\n\n  //Need to be login, Need to be admin\n  // else if (\n  //   to.meta.requiresAuth == true &&\n  //   to.meta.requiresAdmin == true &&\n  //   loginUser.userRoles[0].roleName != \"ADMIN\"\n  // ) {\n  //   next({ path: \"/table\" });\n  // }\n  //If All Okay\n  else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","TableView","LoginView","MenuView","OrderView","OrderDetail","ProfileView","AdminUserView","AdminView","AdminCategoryView","AdminTableView","AdminDiscountView","state","use","routes","path","redirect","name","component","meta","requiresAuth","props","requiresAdmin","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","loginUser","isLogin","sessionStorage","getItem","console","log"],"sources":["/Users/winmon/vue-bsCamp/orderservice-frontend-final-v1/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport TableView from \"../views/TableView.vue\";\nimport LoginView from \"@/views/LoginView.vue\";\nimport MenuView from \"../views/MenuView.vue\";\nimport OrderView from \"../views/OrderView.vue\";\nimport OrderDetail from \"../views/OrderDetail.vue\";\nimport ProfileView from \"../views/ProfileView.vue\";\nimport AdminUserView from \"../views/AdminUserView.vue\";\nimport AdminView from \"../views/AdminView.vue\";\nimport AdminCategoryView from \"../views/AdminCategoryView.vue\";\nimport AdminTableView from \"../views/AdminTableView.vue\";\nimport AdminDiscountView from \"../views/AdminDiscountView.vue\";\nimport state from \"@/store/state\";\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"*\",\n    redirect: \"/login\",\n  },\n  {\n    path: \"/login\",\n    name: \"login\",\n    component: LoginView,\n  },\n  {\n    path: \"/table\",\n    name: \"table\",\n    component: TableView,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: \"/menu\",\n    name: \"menu\",\n    component: MenuView,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: \"/profile\",\n    name: \"profile\",\n    component: ProfileView,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: \"/order\",\n    name: \"order\",\n    component: OrderView,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: \"/order/:orderId\",\n    name: \"order_detail\",\n    props: true,\n    component: OrderDetail,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: \"/admin/food\",\n    name: \"admin_food\",\n    component: AdminView,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: true,\n    },\n  },\n  {\n    path: \"/admin/user\",\n    name: \"admin_user\",\n    component: AdminUserView,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: true,\n    },\n  },\n  {\n    path: \"/admin/discount\",\n    name: \"admin_discount\",\n    component: AdminDiscountView,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: true,\n    },\n  },\n  {\n    path: \"/admin/category\",\n    name: \"admin_category\",\n    component: AdminCategoryView,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: true,\n    },\n  },\n  {\n    path: \"/admin/table\",\n    name: \"admin_table\",\n    component: AdminTableView,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: true,\n    },\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\nrouter.beforeEach(async (to, from, next) => {\n  let loginUser = state.loginUser;\n  // let role = loginUser.userRoles[0].roleName;\n  let isLogin = sessionStorage.getItem(\"isLogin\");\n\n  // from - Home\n  // to - Profile\n  // Need to be login, But is not login\n  if (to.meta.requiresAuth == true && !isLogin) {\n    next({ path: \"/login\" });\n    console.log(loginUser);\n  }\n\n  //Need to be login, Need to be admin\n  // else if (\n  //   to.meta.requiresAuth == true &&\n  //   to.meta.requiresAdmin == true &&\n  //   loginUser.userRoles[0].roleName != \"ADMIN\"\n  // ) {\n  //   next({ path: \"/table\" });\n  // }\n  //If All Okay\n  else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}