{"ast":null,"code":"import html2pdf from \"html2pdf.js\";\nimport { mapGetters } from \"vuex\";\nimport utils from \"@/utils/utils\";\nexport default {\n  data() {\n    return {\n      tableList: [],\n      activeDiscount: {}\n    };\n  },\n  async created() {\n    await this.fetchAllTables();\n    await this.fetchActiveDiscount();\n  },\n  // components: {\n  //   BillPayment,\n  // },\n  computed: {\n    ...mapGetters([\"getTable\", \"totalPrice\", \"getFoodList\"])\n  },\n  methods: {\n    exportToPDF() {\n      html2pdf(document.getElementById(\"element-to-convert\"), {\n        margin: 1,\n        filename: \"bill-vouncher.pdf\"\n      });\n    },\n    async fetchAllTables() {\n      const response = await utils.http.get(\"/table/list_with_order\");\n      if (response) {\n        const data = await response.json();\n        if (data) this.tableList = data;\n      } else {\n        console.log(\"sth wrong\");\n      }\n    },\n    async fetchActiveDiscount() {\n      const resp2 = await utils.http.get(\"/discount/active/discount\");\n      if (resp2) {\n        console.log(resp2);\n        const data = await resp2.json();\n        console.log(data);\n        this.$store.commit(\"SELECT_DISCOUNT\", data);\n        if (data) this.activeDiscount = data;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AA4HA;AACA;AACA;AAEA;EACAA;IACA;MACAC;MACAC;IACA;EACA;EAEA;IACA;IACA;EACA;EAEA;EACA;EACA;EACAC;IACA;EACA;EAEAC;IACAC;MACAC;QACAC;QACAC;MACA;IACA;IAEA;MACA;MACA;QACA;QACA;MACA;QACAC;MACA;IACA;IAEA;MACA;MAEA;QACAA;QACA;QACAA;QACA;QACA;MACA;IACA;EACA;AACA","names":["data","tableList","activeDiscount","computed","methods","exportToPDF","html2pdf","margin","filename","console"],"sourceRoot":"src/views","sources":["InvoiceView.vue"],"sourcesContent":["<template>\n  <v-container id=\"element-to-convert\" class=\"mt-4\">\n    <h1 class=\"text-center\">INVOICE</h1>\n\n    <v-row>\n      <v-spacer></v-spacer>\n      <v-col cols=\"12\" md=\"8\">\n        <h3>TABLE-{{ getTable.table.tableName }}</h3>\n        <center>\n          <v-list>\n            <v-divider class=\"mx-4\" color=\"black\"></v-divider>\n            <v-list-item>\n              <v-row>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"\n                  ><strong>No.</strong>\n                </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"4\"\n                  ><strong>Item</strong>\n                </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"\n                  ><strong>Qty</strong>\n                </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>Unit Price</strong>\n                </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>Amount</strong>\n                </v-col>\n              </v-row>\n            </v-list-item>\n            <v-divider class=\"mx-4\" color=\"black\"></v-divider>\n          </v-list>\n          <v-list\n            v-for=\"(item, index) in getTable.table.order.orderItems\"\n            :key=\"index\"\n          >\n            <v-list-item>\n              <v-row>\n                <v-col cols=\"12\" md=\"1\"\n                  ><strong>{{ index + 1 }}</strong>\n                </v-col>\n                <v-col cols=\"12\" md=\"4\"\n                  ><strong>{{ item.food.foodName }}</strong>\n                </v-col>\n                <v-col cols=\"12\" md=\"1\"\n                  ><strong> {{ item.quantity }}</strong>\n                </v-col>\n                <v-col cols=\"12\" md=\"3\"\n                  ><strong>{{ item.food.foodPrice }}</strong>\n                </v-col>\n                <v-col cols=\"12\" md=\"3\"\n                  ><strong>{{ item.quantity * item.food.foodPrice }}</strong>\n                </v-col>\n              </v-row>\n            </v-list-item>\n          </v-list>\n\n          <v-list>\n            <v-divider class=\"mx-4\" color=\"black\"></v-divider>\n            <v-list-item>\n              <v-row>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"><strong></strong> </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"4\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>Sub Total :</strong>\n                </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>{{\n                    getTable.table.billTotal +\n                    getTable.table.order.orderDiscountTotal\n                  }}</strong>\n                </v-col>\n              </v-row>\n            </v-list-item>\n          </v-list>\n          <v-list>\n            <v-list-item>\n              <v-row>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"><strong></strong> </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"4\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>Discount : </strong></v-col\n                >\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>{{\n                    getTable.table.order.orderDiscountTotal\n                  }}</strong>\n                </v-col>\n              </v-row>\n            </v-list-item>\n          </v-list>\n          <v-list>\n            <v-list-item>\n              <v-row>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"><strong></strong> </v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"4\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"1\"></v-col>\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>Total :</strong></v-col\n                >\n                <v-col class=\"pa-6\" cols=\"12\" md=\"3\"\n                  ><strong>{{ getTable.table.billTotal }}</strong>\n                </v-col>\n              </v-row>\n            </v-list-item>\n          </v-list>\n          <v-list>\n            <v-row>\n              <v-col class=\"\" cols=\"12\">\n                <h5>Thank you , Please come again :)</h5>\n              </v-col>\n            </v-row>\n          </v-list>\n        </center>\n      </v-col>\n      <v-spacer></v-spacer>\n    </v-row>\n    <button @click=\"exportToPDF\">Export to PDF</button>\n  </v-container>\n</template>\n\n<script>\nimport html2pdf from \"html2pdf.js\";\nimport { mapGetters } from \"vuex\";\nimport utils from \"@/utils/utils\";\n\nexport default {\n  data() {\n    return {\n      tableList: [],\n      activeDiscount: {},\n    };\n  },\n\n  async created() {\n    await this.fetchAllTables();\n    await this.fetchActiveDiscount();\n  },\n\n  // components: {\n  //   BillPayment,\n  // },\n  computed: {\n    ...mapGetters([\"getTable\", \"totalPrice\", \"getFoodList\"]),\n  },\n\n  methods: {\n    exportToPDF() {\n      html2pdf(document.getElementById(\"element-to-convert\"), {\n        margin: 1,\n        filename: \"bill-vouncher.pdf\",\n      });\n    },\n\n    async fetchAllTables() {\n      const response = await utils.http.get(\"/table/list_with_order\");\n      if (response) {\n        const data = await response.json();\n        if (data) this.tableList = data;\n      } else {\n        console.log(\"sth wrong\");\n      }\n    },\n\n    async fetchActiveDiscount() {\n      const resp2 = await utils.http.get(\"/discount/active/discount\");\n\n      if (resp2) {\n        console.log(resp2);\n        const data = await resp2.json();\n        console.log(data);\n        this.$store.commit(\"SELECT_DISCOUNT\", data);\n        if (data) this.activeDiscount = data;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n/* #app {\n      margin-top: 60px;\n      text-align: center;\n    } */\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}