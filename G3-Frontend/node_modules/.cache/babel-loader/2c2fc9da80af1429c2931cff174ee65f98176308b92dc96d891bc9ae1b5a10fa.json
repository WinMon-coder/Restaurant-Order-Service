{"ast":null,"code":"import utils from \"@/utils/utils\";\nimport AdminSideBar from \"@/components/AdminSideBar.vue\";\nexport default {\n  name: \"UserView\",\n  components: {\n    AdminSideBar\n  },\n  data: () => ({\n    update_dialog: false,\n    delete_dialog: false,\n    updateForm: false,\n    selectDemo: {},\n    updateDemo: {\n      userId: \"\",\n      userStatus: \"\",\n      startJoinDate: \"\",\n      lastJoinDate: \"\"\n    },\n    headers: [{\n      text: \"id\",\n      align: \"start\",\n      sortable: false,\n      value: \"userId\"\n    }, {\n      text: \"Name\",\n      value: \"userFullName\"\n    }, {\n      text: \"Email\",\n      value: \"userEmail\"\n    }, {\n      text: \"Status\",\n      value: \"userStatus\"\n    }, {\n      text: \"Phone\",\n      value: \"userPhone\"\n    }, {\n      text: \"Address\",\n      value: \"userAddress\"\n    }, {\n      text: \"Start Join Date\",\n      value: \"startJoinDate\"\n    }, {\n      text: \"Last Join Date\",\n      value: \"lastJoinDate\"\n    }, {\n      text: \"Updated At\",\n      value: \"updatedAt\",\n      sortable: true\n    }, {\n      text: \"Actions\",\n      value: \"actions\",\n      sortable: false\n    }],\n    userList: [],\n    userStatus: \"\",\n    userStatusList: []\n  }),\n  async created() {\n    await this.fetchUserStatus();\n    await this.fetchAllUsers();\n  },\n  methods: {\n    async fetchUserStatus() {\n      const resp = await utils.http.get(\"/admin/user_status\");\n      if (resp && resp.status === 200) {\n        const data = await resp.json();\n        if (data) {\n          this.userStatusList = data;\n        }\n      }\n    },\n    // <!-- -------------****** get all users from utils.http ******-------------------------- -->\n    async fetchAllUsers() {\n      const resp = await utils.http.get(\"/admin/user/list\");\n      if (resp && resp.status === 200) {\n        const data = await resp.json();\n        if (data) {\n          this.userList = data;\n        }\n      }\n    },\n    // <!-- -------------****** update user from utils.http ******-------------------------- -->\n    async updateUserStatus() {\n      const resp = await utils.http.putFormData(\"/admin/user/update_status\", {\n        userId: this.updateDemo.userId,\n        userStatus: this.updateDemo.userStatus,\n        startJoinDate: this.updateDemo.startJoinDate,\n        lastJoinDate: this.updateDemo.lastJoinDate\n      });\n      console.log(this.userStatus);\n      console.log(this.userId);\n      if (resp && resp.status === 200) {\n        // Refresh User List\n        await this.fetchAllUsers();\n        this.update_dialog = false;\n      } else {\n        this.errorAlert = true;\n      }\n      this.loading = false;\n    },\n    // <!-- -------------****** delete user from utils.http ******-------------------------- -->\n    async deleteItemConfirm(id) {\n      const resp = await utils.http.del(\"/admin/user/delete/\" + id);\n      if (resp.status == 200) {\n        await this.fetchAllUsers();\n        this.delete_dialog = false;\n      }\n    },\n    // <!-- -------------******  event handelar from dialog ******-------------------------- -->\n\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n    onClickUpdateUserStatus(item) {\n      this.update_dialog = true;\n      this.updateDemo = Object.assign({}, item);\n      this.userStatus = this.updateDemo.userStatus;\n      this.userId = this.updateDemo.userId;\n      console.log(this.userStatus);\n      console.log(this.userId);\n    },\n    closeUpdate() {\n      this.update_dialog = false;\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    }\n  }\n};","map":{"version":3,"mappings":"AA2HA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC,UACA;MACAC;MACAC;MACAC;MACAC;IACA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;MAAAD;IAAA,GACA;MAAAF;MAAAG;MAAAD;IAAA,EACA;IACAE;IACAR;IACAS;EACA;EAEA;IACA;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;UACA;QACA;MACA;IACA;IACA;IACA;MACA;MACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA;IACA;MACA;QACAX;QACAC;QACAC;QACAC;MACA;MACAS;MACAA;MACA;QACA;QACA;QACA;MACA;QACA;MACA;MAEA;IACA;IAEA;IACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;;IAEAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAF;MACAA;IACA;IACAG;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","components","AdminSideBar","data","update_dialog","delete_dialog","updateForm","selectDemo","updateDemo","userId","userStatus","startJoinDate","lastJoinDate","headers","text","align","sortable","value","userList","userStatusList","methods","console","deleteItem","onClickUpdateUserStatus","closeUpdate","closeDelete"],"sourceRoot":"src/views","sources":["AdminUserView.vue"],"sourcesContent":["<template>\n  <div>\n    <AdminSideBar />\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"userList\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title><strong>User CRUD</strong></v-toolbar-title>\n        </v-toolbar>\n      </template>\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <v-icon color=\"red\" class=\"mr-2\" @click=\"onClickUpdateUserStatus(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon color=\"blue darken-1\" @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n    </v-data-table>\n    <v-toolbar>\n      <!-- -------------****** update ******-------------------------- -->\n      <v-form ref=\"updateForm\" v-model=\"updateForm\">\n        <v-dialog v-model=\"update_dialog\" max-width=\"700px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h4\">Edit User Status </span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <!-- User Name -->\n                <v-row>\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-text-field\n                      v-model=\"updateDemo.userFullName\"\n                      label=\"User Name\"\n                      disabled\n                    ></v-text-field>\n                  </v-col>\n\n                  <!-- User Email -->\n\n                  <v-col cols=\"12\" md=\"6\">\n                    <v-text-field\n                      v-model=\"updateDemo.userEmail\"\n                      label=\"User Email\"\n                      disabled\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col>\n                    <v-select\n                      :items=\"userStatusList\"\n                      label=\"User Status\"\n                      v-model=\"updateDemo.userStatus\"\n                    >\n                    </v-select>\n                  </v-col>\n                </v-row>\n\n                <!-- Start Join Date -->\n                <!-- Last Join Date -->\n                <v-row>\n                  <v-col>\n                    <h3>Start Join Date</h3>\n                    <template>\n                      <v-date-picker\n                        v-model=\"updateDemo.startJoinDate\"\n                      ></v-date-picker>\n                    </template>\n                  </v-col>\n                  <v-col>\n                    <h3>Last Join Date</h3>\n                    <template>\n                      <v-date-picker\n                        v-model=\"updateDemo.lastJoinDate\"\n                      ></v-date-picker>\n                    </template>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"red\" text @click=\"closeUpdate\">Cancel</v-btn>\n              <v-btn\n                :disabled=\"!updateForm\"\n                color=\"blue darken-1\"\n                text\n                @click=\"updateUserStatus()\"\n                >Update</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-form>\n      <!-- -------------****** delete ******-------------------------- -->\n      <v-container>\n        <v-dialog v-model=\"delete_dialog\" max-width=\"400px\">\n          <v-card>\n            <v-card-title class=\"text-h6\"\n              >Are you sure you want to delete this?</v-card-title\n            >\n            <v-card-text>User ID:{{ selectDemo.userId }}</v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn text @click=\"closeDelete\">Cancel</v-btn>\n              <v-btn text @click=\"deleteItemConfirm(selectDemo.userId)\"\n                >Delete</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-container>\n    </v-toolbar>\n  </div>\n</template>\n\n<script>\nimport utils from \"@/utils/utils\";\nimport AdminSideBar from \"@/components/AdminSideBar.vue\";\nexport default {\n  name: \"UserView\",\n  components: {\n    AdminSideBar,\n  },\n  data: () => ({\n    update_dialog: false,\n    delete_dialog: false,\n    updateForm: false,\n    selectDemo: {},\n    updateDemo: {\n      userId: \"\",\n      userStatus: \"\",\n      startJoinDate: \"\",\n      lastJoinDate: \"\",\n    },\n    headers: [\n      {\n        text: \"id\",\n        align: \"start\",\n        sortable: false,\n        value: \"userId\",\n      },\n      { text: \"Name\", value: \"userFullName\" },\n      { text: \"Email\", value: \"userEmail\" },\n      { text: \"Status\", value: \"userStatus\" },\n      { text: \"Phone\", value: \"userPhone\" },\n      { text: \"Address\", value: \"userAddress\" },\n      { text: \"Start Join Date\", value: \"startJoinDate\" },\n      { text: \"Last Join Date\", value: \"lastJoinDate\" },\n      { text: \"Updated At\", value: \"updatedAt\", sortable: true },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    userList: [],\n    userStatus: \"\",\n    userStatusList: [],\n  }),\n\n  async created() {\n    await this.fetchUserStatus();\n    await this.fetchAllUsers();\n  },\n  methods: {\n    async fetchUserStatus() {\n      const resp = await utils.http.get(\"/admin/user_status\");\n      if (resp && resp.status === 200) {\n        const data = await resp.json();\n        if (data) {\n          this.userStatusList = data;\n        }\n      }\n    },\n    // <!-- -------------****** get all users from utils.http ******-------------------------- -->\n    async fetchAllUsers() {\n      const resp = await utils.http.get(\"/admin/user/list\");\n      if (resp && resp.status === 200) {\n        const data = await resp.json();\n        if (data) {\n          this.userList = data;\n        }\n      }\n    },\n\n    // <!-- -------------****** update user from utils.http ******-------------------------- -->\n    async updateUserStatus() {\n      const resp = await utils.http.putFormData(\"/admin/user/update_status\", {\n        userId: this.updateDemo.userId,\n        userStatus: this.updateDemo.userStatus,\n        startJoinDate: this.updateDemo.startJoinDate,\n        lastJoinDate: this.updateDemo.lastJoinDate,\n      });\n      console.log(this.userStatus);\n      console.log(this.userId);\n      if (resp && resp.status === 200) {\n        // Refresh User List\n        await this.fetchAllUsers();\n        this.update_dialog = false;\n      } else {\n        this.errorAlert = true;\n      }\n\n      this.loading = false;\n    },\n\n    // <!-- -------------****** delete user from utils.http ******-------------------------- -->\n    async deleteItemConfirm(id) {\n      const resp = await utils.http.del(\"/admin/user/delete/\" + id);\n      if (resp.status == 200) {\n        await this.fetchAllUsers();\n        this.delete_dialog = false;\n      }\n    },\n    // <!-- -------------******  event handelar from dialog ******-------------------------- -->\n\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n    onClickUpdateUserStatus(item) {\n      this.update_dialog = true;\n      this.updateDemo = Object.assign({}, item);\n      this.userStatus = this.updateDemo.userStatus;\n      this.userId = this.updateDemo.userId;\n      console.log(this.userStatus);\n      console.log(this.userId);\n    },\n    closeUpdate() {\n      this.update_dialog = false;\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    },\n  },\n};\n</script>\n\n<style>\n.v-btn:hover {\n  background-color: primary;\n  color: white !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}