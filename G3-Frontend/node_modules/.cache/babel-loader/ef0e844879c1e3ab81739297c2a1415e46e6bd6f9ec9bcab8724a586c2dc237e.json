{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from \"@/util/api\";\nexport default {\n  props: {\n    source: String\n  },\n  data() {\n    return {\n      step: 1,\n      loginForm: false,\n      registerForm: false,\n      userFullName: \"\",\n      userEmail: \"\",\n      userPassword: \"\",\n      errorAlert: false,\n      loading: false\n    };\n  },\n  async created() {},\n  methods: {\n    async register() {\n      if (this.$refs.registerForm.validate()) {\n        this.errorAlert = false;\n        this.loading = true;\n        const resp = await api.post(\"/user/register\", {\n          userFullName: this.userFullName,\n          userEmail: this.userEmail,\n          userPassword: this.userPassword\n        });\n        if (resp.status === 200) {\n          const data = await resp.json();\n          if (data) {\n            this.$store.commit(\"setLoginUser\", data);\n            if (data.userRole == \"ADMIN\") {\n              this.$router.push({\n                path: \"/admin\"\n              });\n            } else {\n              this.$router.push({\n                path: \"/\"\n              });\n            }\n          }\n        } else {\n          this.errorAlert = true;\n        }\n        this.loading = false;\n      }\n    },\n    async login() {\n      if (this.$refs.loginForm.validate()) {\n        this.errorAlert = false;\n        this.loading = true;\n        const resp = await api.post(\"/user/login\", {\n          userEmail: this.userEmail,\n          userPassword: this.userPassword\n        });\n        if (resp.status === 200) {\n          const data = await resp.json();\n          if (data) {\n            this.$store.commit(\"setLoginUser\", data);\n            console.log(data);\n            if (data.userRoles.roleName == \"ADMIN\") {\n              this.$router.push({\n                path: \"/admin\"\n              });\n            } else {\n              this.$router.push({\n                path: \"/\"\n              });\n            }\n          }\n        } else {\n          this.errorAlert = true;\n        }\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAsNA;AACA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEA;EAEAC;IACA;MACA;QACA;QACA;QACA;UACAL;UACAC;UACAC;QACA;QACA;UACA;UACA;YACA;YACA;cACA;gBAAAI;cAAA;YACA;cACA;gBAAAA;cAAA;YACA;UACA;QACA;UACA;QACA;QACA;MACA;IACA;IACA;MACA;QACA;QACA;QACA;UACAL;UACAC;QACA;QACA;UACA;UACA;YACA;YACAK;YACA;cACA;gBAAAD;cAAA;YACA;cACA;gBAAAA;cAAA;YACA;UACA;QACA;UACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["props","source","data","step","loginForm","registerForm","userFullName","userEmail","userPassword","errorAlert","loading","methods","path","console"],"sourceRoot":"src/views","sources":["RegisterView.vue"],"sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-container class=\"fill-height\" fluid>\n      <v-row align=\"center\" justify=\"center\">\n        <v-col cols=\"12\" sm=\"8\" md=\"8\">\n          <v-card class=\"elevation-12\">\n            <v-window v-model=\"step\">\n              <v-window-item :value=\"1\">\n                <v-row>\n                  <v-col cols=\"12\" md=\"8\">\n                    <v-card-text class=\"mt-12\">\n                      <h1\n                        class=\"text-center display-2 black--text text--accent-3\"\n                      >\n                        Welcome Back!\n                      </h1>\n                      <div class=\"text-center mt-4\">\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-facebook-f</v-icon>\n                        </v-btn>\n\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-google-plus-g</v-icon>\n                        </v-btn>\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-linkedin-in</v-icon>\n                        </v-btn>\n                      </div>\n                      <h4 class=\"text-center mt-4\">\n                        Ensure your email for registration\n                      </h4>\n                      <v-form ref=\"loginForm\" v-model=\"loginForm\">\n                        <v-text-field\n                          label=\"Email\"\n                          v-model=\"userEmail\"\n                          :rules=\"[\n                            (v) => !!v || 'Required',\n                            (v) =>\n                              /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n                          ]\"\n                          prepend-icon=\"email\"\n                          type=\"text\"\n                          required\n                          color=\"#800015\"\n                        />\n\n                        <v-text-field\n                          v-model=\"userPassword\"\n                          :counter=\"10\"\n                          :rules=\"[\n                            (v) => !!v || 'Required',\n                            (v) =>\n                              (v && v.length <= 10) ||\n                              'Password must be less than 10 characters',\n                          ]\"\n                          prepend-icon=\"lock\"\n                          type=\"password\"\n                          required\n                          color=\"#800015\"\n                        />\n                        <h3 class=\"text-center mt-4\">Forgot your password ?</h3>\n                        <div class=\"text-center mt-3\">\n                          <v-btn\n                            color=\"#800015\"\n                            dark\n                            :disabled=\"!loginForm\"\n                            @click=\"login\"\n                          >\n                            <span v-if=\"!loading\">LOGIN</span>\n                            <v-progress-circular\n                              v-else\n                              indeterminate\n                              color=\"white\"\n                            ></v-progress-circular>\n                          </v-btn>\n                          <v-alert\n                            class=\"mt-3\"\n                            v-show=\"errorAlert\"\n                            dense\n                            type=\"error\"\n                          >\n                            Login Failed! <br />\n                            Email or Password is wrong!\n                          </v-alert>\n                        </div>\n                      </v-form>\n                    </v-card-text>\n                  </v-col>\n                  <v-col cols=\"12\" md=\"4\" class=\"primary\">\n                    <v-card-text class=\"white--text mt-12\">\n                      <h1 class=\"text-center display-1\">Hello, Friend!</h1>\n                      <h5 class=\"text-center\">\n                        Enter your personal details and enjoy our service\n                      </h5>\n                    </v-card-text>\n                    <div class=\"text-center\">\n                      <v-btn outlined dark @click=\"step++\">SIGN UP</v-btn>\n                    </div>\n                  </v-col>\n                </v-row>\n              </v-window-item>\n              <v-window-item :value=\"2\">\n                <v-row class=\"fill-height\">\n                  <v-col cols=\"12\" md=\"4\" class=\"primary\">\n                    <v-card-text class=\"white--text mt-12\">\n                      <h1 class=\"text-center display-1\">Welcome Back!</h1>\n                      <h5 class=\"text-center\">\n                        To Keep connected with us please login with your\n                        personnel info\n                      </h5>\n                    </v-card-text>\n                    <div class=\"text-center\">\n                      <v-btn outlined dark @click=\"step--\">Sign in</v-btn>\n                    </div>\n                  </v-col>\n\n                  <v-col cols=\"12\" md=\"8\">\n                    <v-card-text class=\"mt-12\">\n                      <h1\n                        class=\"text-center display-2 black--text text--accent-3\"\n                      >\n                        Create Account\n                      </h1>\n                      <div class=\"text-center mt-4\">\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-facebook-f</v-icon>\n                        </v-btn>\n\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-google-plus-g</v-icon>\n                        </v-btn>\n                        <v-btn class=\"mx-2\" fab color=\"black\" outlined>\n                          <v-icon>fab fa-linkedin-in</v-icon>\n                        </v-btn>\n                      </div>\n                      <h4 class=\"text-center mt-4\">\n                        Ensure your email for registration\n                      </h4>\n                      <v-form ref=\"registerForm\" v-model=\"registerForm\">\n                        <v-text-field\n                          label=\"Name\"\n                          v-model=\"userFullName\"\n                          :counter=\"10\"\n                          :rules=\"[\n                            (v) => !!v || 'Required',\n                            (v) =>\n                              (v && v.length <= 10) ||\n                              'Name must be less than 10 characters',\n                          ]\"\n                          prepend-icon=\"person\"\n                          type=\"text\"\n                          required\n                          color=\"#800015\"\n                        />\n                        <v-text-field\n                          label=\"Email\"\n                          v-model=\"userEmail\"\n                          :rules=\"[\n                            (v) => !!v || 'Required',\n                            (v) =>\n                              /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n                          ]\"\n                          prepend-icon=\"email\"\n                          type=\"text\"\n                          required\n                          color=\"#800015\"\n                        />\n\n                        <v-text-field\n                          v-model=\"userPassword\"\n                          :counter=\"10\"\n                          :rules=\"[\n                            (v) => !!v || 'Required',\n                            (v) =>\n                              (v && v.length <= 10) ||\n                              'Password must be less than 10 characters',\n                          ]\"\n                          prepend-icon=\"lock\"\n                          type=\"password\"\n                          required\n                          color=\"#800015\"\n                        />\n                        <div class=\"text-center mt-5\">\n                          <v-btn @click=\"register\" color=\"#800015\" dark>\n                            <span v-if=\"!loading\">SIGN UP</span>\n                            <v-progress-circular\n                              v-else\n                              indeterminate\n                              color=\"white\"\n                            ></v-progress-circular\n                          ></v-btn>\n                          <v-alert\n                            class=\"mt-3\"\n                            v-show=\"errorAlert\"\n                            dense\n                            type=\"error\"\n                          >\n                            Register Failed!\n                          </v-alert>\n                        </div>\n                      </v-form>\n                    </v-card-text>\n                  </v-col>\n                </v-row>\n              </v-window-item>\n            </v-window>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport api from \"@/util/api\";\nexport default {\n  props: {\n    source: String,\n  },\n  data() {\n    return {\n      step: 1,\n      loginForm: false,\n      registerForm: false,\n      userFullName: \"\",\n      userEmail: \"\",\n      userPassword: \"\",\n      errorAlert: false,\n      loading: false,\n    };\n  },\n\n  async created() {},\n\n  methods: {\n    async register() {\n      if (this.$refs.registerForm.validate()) {\n        this.errorAlert = false;\n        this.loading = true;\n        const resp = await api.post(\"/user/register\", {\n          userFullName: this.userFullName,\n          userEmail: this.userEmail,\n          userPassword: this.userPassword,\n        });\n        if (resp.status === 200) {\n          const data = await resp.json();\n          if (data) {\n            this.$store.commit(\"setLoginUser\", data);\n            if (data.userRole == \"ADMIN\") {\n              this.$router.push({ path: \"/admin\" });\n            } else {\n              this.$router.push({ path: \"/\" });\n            }\n          }\n        } else {\n          this.errorAlert = true;\n        }\n        this.loading = false;\n      }\n    },\n    async login() {\n      if (this.$refs.loginForm.validate()) {\n        this.errorAlert = false;\n        this.loading = true;\n        const resp = await api.post(\"/user/login\", {\n          userEmail: this.userEmail,\n          userPassword: this.userPassword,\n        });\n        if (resp.status === 200) {\n          const data = await resp.json();\n          if (data) {\n            this.$store.commit(\"setLoginUser\", data);\n            console.log(data);\n            if (data.userRoles.roleName == \"ADMIN\") {\n              this.$router.push({ path: \"/admin\" });\n            } else {\n              this.$router.push({ path: \"/\" });\n            }\n          }\n        } else {\n          this.errorAlert = true;\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}