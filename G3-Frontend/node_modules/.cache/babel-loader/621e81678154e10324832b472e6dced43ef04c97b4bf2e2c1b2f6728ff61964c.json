{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport utils from \"@/utils/utils\";\nexport default {\n  data: () => ({\n    loginUser: {},\n    isLogin: false,\n    selectedItem: 0,\n    drawer: null,\n    items: [{\n      icon: \"deck\",\n      text: \"Table\",\n      route: \"/table\"\n    }, {\n      icon: \"list_alt\",\n      text: \"Order\",\n      route: \"/order\"\n    }]\n  }),\n  async created() {\n    // Login User\n    this.loginUser = this.$store.getters.loginUser;\n    await this.fetchUserProfile();\n    this.$store.watch(() => {\n      return this.$store.state.loginUser;\n    }, newVal => {\n      this.loginUser = newVal;\n    }, {\n      deep: true\n    });\n    // IsLogin\n    this.isLogin = this.$store.state.isLogin;\n    this.$store.watch(() => {\n      return this.$store.state.isLogin;\n    }, newVal => {\n      this.isLogin = newVal;\n    }, {\n      deep: true\n    });\n  },\n  methods: {\n    logout() {\n      this.$store.commit(\"logout\");\n      // If current path is not register page, Go to register page\n      if (this.$route.path != \"/login\") {\n        this.$router.push({\n          path: \"/login\"\n        });\n        this.$router.go();\n      }\n    },\n    async fetchUserProfile() {\n      const response = await utils.http.get(\"/user/profile?id=\" + this.loginUser.userId);\n      if (response) {\n        const data = await response.json();\n        if (data) this.loginUser = data;\n      } else {\n        console.log(\"sth wromg\");\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAuEA;AACA;EACAA;IACAC;IACAC;IACAC;IACAC;IACAC,QACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA;EAEA;EAEA;IACA;IACA;IACA;IACA,kBACA;MACA;IACA,GACAC;MACA;IACA,GACA;MACAC;IACA,EACA;IACA;IACA;IACA,kBACA;MACA;IACA,GACAD;MACA;IACA,GACA;MACAC;IACA,EACA;EACA;EAEAC;IACAC;MACA;MACA;MACA;QACA;UAAAC;QAAA;QACA;MACA;IACA;IACA;MACA,sCACA,4CACA;MACA;QACA;QACA;MACA;QACAC;MACA;IACA;EACA;AACA","names":["data","loginUser","isLogin","selectedItem","drawer","items","icon","text","route","newVal","deep","methods","logout","path","console"],"sourceRoot":"src/components","sources":["SideBar.vue"],"sourcesContent":["<template>\n  <v-navigation-drawer\n    v-model=\"drawer\"\n    app\n    color=\"white\"\n    mini-variant\n    mini-variant-width=\"90\"\n  >\n    <v-avatar class=\"d-block text-center mx-auto mt-4\" size=\"40\">\n      <v-icon color=\"primary\">fas fa-shop</v-icon>\n    </v-avatar>\n    <v-list flat class=\"mt-4\">\n      <v-list-item-group v-model=\"selectedItem\">\n        <v-list-item\n          v-for=\"(item, i) in items\"\n          :key=\"i\"\n          active-class=\"border\"\n          :ripple=\"false\"\n          :to=\"item.route\"\n        >\n          <v-list-item-content>\n            <v-icon v-text=\"item.icon\"></v-icon>\n            <v-list-item-subtitle\n              align=\"center\"\n              v-text=\"item.text\"\n              class=\"mt-3 caption\"\n            ></v-list-item-subtitle>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list-item-group>\n    </v-list>\n\n    <span v-for=\"(role, index) in this.loginUser.userRoles\" :key=\"index\">\n      <div\n        v-if=\"role.roleName == 'ADMIN'\"\n        style=\"\n          bottom: 20px;\n          margin-left: auto;\n          margin-right: auto;\n          left: 0;\n          right: 0;\n          text-align: center;\n        \"\n      >\n        <router-link class=\"a-logout\" to=\"/admin/food\">\n          <v-icon>dashboard_customize</v-icon><br /><span>dashboard</span>\n        </router-link>\n      </div>\n    </span>\n    <v-spacer></v-spacer>\n\n    <div\n      style=\"\n        position: absolute;\n        bottom: 20px;\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        text-align: center;\n      \"\n    >\n      <a class=\"a-logout\" @click=\"logout()\">\n        <v-icon>logout</v-icon><br />\n        <span>Logout</span></a\n      >\n    </div>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport utils from \"@/utils/utils\";\nexport default {\n  data: () => ({\n    loginUser: {},\n    isLogin: false,\n    selectedItem: 0,\n    drawer: null,\n    items: [\n      { icon: \"deck\", text: \"Table\", route: \"/table\" },\n      { icon: \"list_alt\", text: \"Order\", route: \"/order\" },\n    ],\n  }),\n\n  async created() {\n    // Login User\n    this.loginUser = this.$store.getters.loginUser;\n    await this.fetchUserProfile();\n    this.$store.watch(\n      () => {\n        return this.$store.state.loginUser;\n      },\n      (newVal) => {\n        this.loginUser = newVal;\n      },\n      {\n        deep: true,\n      }\n    );\n    // IsLogin\n    this.isLogin = this.$store.state.isLogin;\n    this.$store.watch(\n      () => {\n        return this.$store.state.isLogin;\n      },\n      (newVal) => {\n        this.isLogin = newVal;\n      },\n      {\n        deep: true,\n      }\n    );\n  },\n\n  methods: {\n    logout() {\n      this.$store.commit(\"logout\");\n      // If current path is not register page, Go to register page\n      if (this.$route.path != \"/login\") {\n        this.$router.push({ path: \"/login\" });\n        this.$router.go();\n      }\n    },\n    async fetchUserProfile() {\n      const response = await utils.http.get(\n        \"/user/profile?id=\" + this.loginUser.userId\n      );\n      if (response) {\n        const data = await response.json();\n        if (data) this.loginUser = data;\n      } else {\n        console.log(\"sth wromg\");\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.sidebar-nav-list {\n  text-decoration: none;\n}\n.border {\n  margin-left: 8px;\n  margin-right: 8px;\n  background: #800015;\n  border-radius: 20px;\n  text-decoration: none;\n}\n.v-list-item-group .v-list-item--active,\n.sidebar-nav-list {\n  color: #ffffff !important;\n}\n\n.a-logout {\n  text-decoration: none;\n  font-family: \"Raleway\", sans-serif !important;\n  font-size: 14px !important;\n}\n.v-application a {\n  color: gray !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}