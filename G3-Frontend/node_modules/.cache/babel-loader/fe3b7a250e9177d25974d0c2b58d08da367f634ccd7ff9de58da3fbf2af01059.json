{"ast":null,"code":"import api from \"@/util/api\";\nexport default {\n  data: () => ({\n    dialog: false,\n    delete_dialog: false,\n    update_dialog: false,\n    selectDemo: {},\n    updateDemo: {},\n    headers: [{\n      text: \"id\",\n      align: \"start\",\n      sortable: false,\n      value: \"table_id\"\n    }, {\n      text: \"Table\",\n      value: \"table_name\"\n    }, {\n      text: \"Created Time\",\n      value: \"createdTime\"\n    }, {\n      text: \"Modified Time\",\n      value: \"modifiedTime\"\n    }, {\n      text: \"Actions\",\n      value: \"actions\",\n      sortable: false\n    }],\n    TableName: [],\n    newItem: {\n      table_name: \"\",\n      // createdTime:'',\n      actions: \"\"\n    },\n    computed: {}\n  }),\n  async created() {\n    await this.getAllTables();\n  },\n  methods: {\n    async getAllTables() {\n      const response = await api.get(\"/table/list\");\n      if (response) {\n        const data = await response.json();\n        if (data) this.TableName = data;\n      } else {\n        console.log(\"sth wromg\");\n      }\n    },\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n    async deleteItemConfirm(id) {\n      const resp = await api.remove(\"/table/delete/\" + id); //this.toDeleteConfirm.table_id\n      if (resp.status == 200) {\n        await this.getAllTables();\n        this.delete_dialog = false;\n        // await this.fetchTables();\n      } else {\n        console.log(\"sth wrong in delete id\");\n      }\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    },\n    saveCancel() {\n      this.dialog = false;\n    },\n    async save() {\n      const resp = await api.save(\"/table/create\", {\n        table_name: this.newItem.table_name,\n        createdAt: this.newItem.createdAt\n      });\n      if (resp) {\n        await this.getAllTables();\n        this.dialog = false;\n      }\n    },\n    editItem(item) {\n      this.update_dialog = true;\n      this.updateDemo = item;\n    },\n    async updateItemConfirm(id) {\n      const resp = await api.edit(\"table/update/\" + id, {\n        table_name: this.newItem.table_name,\n        createdAt: this.newItem.createdAt\n      });\n      if (resp) {\n        await this.getAllTables();\n        this.update_dialog = false;\n        // await this.fetchTables();\n      } else {\n        console.log(\"sth wrong in delete id\");\n      }\n    },\n    closeUpdate() {\n      this.update_dialog = false;\n    }\n  }\n};","map":{"version":3,"mappings":"AAoGA;AACA;EACAA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC,UACA;MACAC;MACAC;MACAC;MACAC;IACA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;IAAA,GACA;MAAAH;MAAAG;MAAAD;IAAA,EACA;IACAE;IACAC;MACAC;MACA;MACAC;IACA;IACAC;EACA;EAEA;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;MACA;QACAC;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEA;MACA;MACA;QACA;QACA;QACA;MACA;QACAD;MACA;IACA;IACAE;MACA;IACA;IACAC;MACA;IACA;IACA;MACA;QACAP;QACAQ;MACA;MACA;QACA;QACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IACA;MACA;QACAT;QACAQ;MACA;MACA;QACA;QAEA;QACA;MACA;QACAJ;MACA;IACA;IACAM;MACA;IACA;EACA;AACA","names":["data","dialog","delete_dialog","update_dialog","selectDemo","updateDemo","headers","text","align","sortable","value","TableName","newItem","table_name","actions","computed","methods","console","deleteItem","closeDelete","saveCancel","createdAt","editItem","closeUpdate"],"sourceRoot":"src/views","sources":["AdminTableView.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"TableName\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <!-- Add New Table -->\n          <v-dialog v-model=\"dialog\" max-width=\"400px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn color=\"primary\" dark class=\"mb-2\" v-bind=\"attrs\" v-on=\"on\">\n                Add New Table\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h4\">Add New Table</span>\n              </v-card-title>\n              <v-card-text>\n                <v-cotainer>\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"7\" md=\"5\">\n                      <v-text-field\n                        v-model=\"newItem.table_name\"\n                        label=\"Table Name\"\n                      ></v-text-field>\n                    </v-col>\n                    <!-- <v-col cols=\"12\" sm=\"12\" md=\"4\">                 \n                  <template>\n                    <v-row justify=\"center\">\n                      <v-datetime-picker label=\"Select Datetime\" v-model=\"newItem.createdTime\"> </v-datetime-picker>\n                    </v-row>\n                  </template>\n                </v-col> -->\n                  </v-row>\n                </v-cotainer>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"saveCancel\"> </v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"save\"> save </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n        <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n      </template>\n    </v-data-table>\n    <v-toolbar>\n      <!--for New Project(property)delete_dialog:boolean-->\n      <v-container>\n        <v-dialog v-model=\"delete_dialog\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"text-h5\"\n              >Are you sure delete this</v-card-title\n            >\n            <v-card-text>{{ selectDemo.table_id }}</v-card-text>\n            <v-card-text>{{ selectDemo.table_name }}</v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn text @click=\"closeDelete\">Cancel</v-btn>\n              <v-btn text @click=\"deleteItemConfirm(selectDemo.table_id)\"\n                >Delete</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <!--for New Project(property)update_dialog:boolean-->\n        <v-dialog v-model=\"update_dialog\" max-width=\"500px\">\n          <v-card>\n            <!-- <v-card-title class=\"text-h5\">Are you sure delete this</v-card-title> -->\n            <v-card-text>{{ updateDemo.table_id }}</v-card-text>\n            <v-card-text>{{ updateDemo.table_name }}</v-card-text>\n            <v-col cols=\"12\" sm=\"7\" md=\"5\">\n              <v-text-field\n                v-model=\"newItem.table_name\"\n                label=\"Table Name\"\n              ></v-text-field>\n            </v-col>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn text @click=\"closeUpdate\">Cancel</v-btn>\n              <v-btn text @click=\"updateItemConfirm(updateDemo.table_id)\"\n                >Update</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-container>\n    </v-toolbar>\n  </div>\n</template>\n\n<script>\nimport api from \"@/util/api\";\nexport default {\n  data: () => ({\n    dialog: false,\n    delete_dialog: false,\n    update_dialog: false,\n    selectDemo: {},\n    updateDemo: {},\n    headers: [\n      {\n        text: \"id\",\n        align: \"start\",\n        sortable: false,\n        value: \"table_id\",\n      },\n      { text: \"Table\", value: \"table_name\" },\n      { text: \"Created Time\", value: \"createdTime\" },\n      { text: \"Modified Time\", value: \"modifiedTime\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    TableName: [],\n    newItem: {\n      table_name: \"\",\n      // createdTime:'',\n      actions: \"\",\n    },\n    computed: {},\n  }),\n\n  async created() {\n    await this.getAllTables();\n  },\n  methods: {\n    async getAllTables() {\n      const response = await api.get(\"/table/list\");\n      if (response) {\n        const data = await response.json();\n        if (data) this.TableName = data;\n      } else {\n        console.log(\"sth wromg\");\n      }\n    },\n\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n\n    async deleteItemConfirm(id) {\n      const resp = await api.remove(\"/table/delete/\" + id); //this.toDeleteConfirm.table_id\n      if (resp.status == 200) {\n        await this.getAllTables();\n        this.delete_dialog = false;\n        // await this.fetchTables();\n      } else {\n        console.log(\"sth wrong in delete id\");\n      }\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    },\n    saveCancel() {\n      this.dialog = false;\n    },\n    async save() {\n      const resp = await api.save(\"/table/create\", {\n        table_name: this.newItem.table_name,\n        createdAt: this.newItem.createdAt,\n      });\n      if (resp) {\n        await this.getAllTables();\n        this.dialog = false;\n      }\n    },\n\n    editItem(item) {\n      this.update_dialog = true;\n      this.updateDemo = item;\n    },\n    async updateItemConfirm(id) {\n      const resp = await api.edit(\"table/update/\" + id, {\n        table_name: this.newItem.table_name,\n        createdAt: this.newItem.createdAt,\n      });\n      if (resp) {\n        await this.getAllTables();\n\n        this.update_dialog = false;\n        // await this.fetchTables();\n      } else {\n        console.log(\"sth wrong in delete id\");\n      }\n    },\n    closeUpdate() {\n      this.update_dialog = false;\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}