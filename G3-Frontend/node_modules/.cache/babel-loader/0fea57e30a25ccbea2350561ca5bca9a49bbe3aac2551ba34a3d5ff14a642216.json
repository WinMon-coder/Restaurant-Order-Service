{"ast":null,"code":"import AdminSideBar from \"@/components/AdminSideBar.vue\";\nimport api from \"@/util/api\";\nexport default {\n  name: \"AdminView\",\n  components: {\n    AdminSideBar\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      search: \"\",\n      headers: [{\n        text: \"ID\",\n        value: \"foodId\"\n      }, {\n        text: \"Food Name\",\n        value: \"foodName\"\n      }, {\n        text: \"Category\",\n        value: \"foodCategory.categoryName\"\n      }, {\n        text: \"Price\",\n        value: \"foodPrice\"\n      }],\n      foodList: [],\n      categoryList: []\n    };\n  },\n  async created() {\n    await this.fetchAllCategories();\n    await this.fetchAllFoods();\n  },\n  methods: {\n    async fetchAllCategories() {\n      const response = await api.get(\"/category/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.categoryList = data;\n      }\n    },\n    async fetchAllFoods() {\n      const response = await api.get(\"/food/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.foodList = data;\n      }\n    },\n    async deleteFood() {\n      const resp = await api.remove(\"/admin/food/delete/\" + this.toDeleteMovie.id);\n      if (resp.status === 200) {\n        this.deleteDialog = false;\n        await this.fetchMovies();\n      } else {\n        this.errorAlert = true;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AA2LA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC,UACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;IACA;EACA;EACA;IACA;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;MACA,8BACA,8CACA;MACA;QACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","AdminSideBar","props","data","search","headers","text","value","foodList","categoryList","methods"],"sourceRoot":"src/views/admin","sources":["AdminView.vue"],"sourcesContent":["<template>\n  <v-app>\n    <admin-side-bar></admin-side-bar>\n    <template>\n      <v-card>\n        <v-card-title>\n          <v-toolbar-title><h3 color=\"primary\">FOOD CRUD</h3></v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <template v-slot:top>\n            <v-toolbar flat>\n              <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    color=\"primary\"\n                    dark\n                    class=\"mb-2\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >\n                    New Users\n                  </v-btn>\n                </template>\n                <v-card>\n                  <v-card-title>\n                    <span class=\"text-h5\">Add New User</span>\n                  </v-card-title>\n                  <v-card-text>\n                    <v-container>\n                      <v-row>\n                        <v-card-text\n                          >User ID:{{ selectDemo.userId }}</v-card-text\n                        >\n                      </v-row>\n                      <v-row>\n                        <v-col cols=\"12\" sm=\"6\">\n                          <v-text-field\n                            v-model=\"newItem.userName\"\n                            label=\"User Name\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <v-col>\n                          <v-text-field\n                            v-model=\"newItem.email\"\n                            label=\"Email\"\n                          ></v-text-field>\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                            v-model=\"newItem.password\"\n                            label=\"password\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <v-col>\n                          <v-select\n                            :items=\"userRole\"\n                            label=\"User Role\"\n                            v-model=\"newItem.userRole\"\n                          ></v-select>\n                        </v-col>\n                        <v-col>\n                          <v-select\n                            :items=\"userStatus\"\n                            label=\"User Status\"\n                            v-model=\"newItem.userStatus\"\n                          ></v-select>\n                        </v-col>\n                      </v-row>\n\n                      <v-row>\n                        <v-col>\n                          <v-text-field\n                            v-model=\"newItem.userPhoto\"\n                            label=\"User Photo\"\n                          ></v-text-field>\n\n                          <v-file-input\n                            v-model=\"poster\"\n                            label=\"User Photo\"\n                            show-size\n                            prepend-icon=\"mdi-camera\"\n                            placeholder=\"Choose Poster Image\"\n                            accept=\"image/png, image/jpeg\"\n                            :rules=\"[\n                              (v) => !!v || 'Required',\n                              (v) =>\n                                !v ||\n                                v.size < 10000000 ||\n                                'Image size should be less than 10 MB!',\n                            ]\"\n                            @change=\"onChangePoster\"\n                          ></v-file-input>\n\n                          <!-- Poster Preview -->\n                          <v-img\n                            v-if=\"posterPreviewPath != null\"\n                            :src=\"posterPreviewPath\"\n                            width=\"200\"\n                            height=\"150\"\n                            contain\n                          >\n                          </v-img>\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                            v-model=\"newItem.phone\"\n                            label=\"Phone NO\"\n                          ></v-text-field>\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                            v-model=\"newItem.address\"\n                            label=\"Address\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                      <v-row>\n                        <v-col>\n                          <template>\n                            <v-row>\n                              <v-date-picker\n                                v-model=\"newItem.startJoinDate\"\n                              ></v-date-picker>\n                            </v-row>\n                          </template>\n                        </v-col>\n                        <v-col>\n                          <template>\n                            <v-row>\n                              <v-date-picker\n                                v-model=\"newItem.lastJoinDate\"\n                              ></v-date-picker>\n                            </v-row>\n                          </template>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" @click=\"saveCancel\">\n                      Cancel\n                    </v-btn>\n                    <v-btn color=\"blue darken-1\" @click=\"save\"> Save </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-toolbar>\n          </template>\n          <!-- End Add Dialog -->\n\n          <v-btn color=\"#704232\" background=\"#704232\" dark class=\"mb-2\" text>\n            <v-icon class=\"add-food\" left>add</v-icon> Add Food\n          </v-btn>\n\n          <v-spacer></v-spacer>\n          <v-text-field\n            v-model=\"search\"\n            label=\"Search category ...\"\n            class=\"mt-5\"\n            color=\"primary\"\n            filled\n            append-icon=\"mdi-magnify\"\n            dense\n            solo\n            flat\n            background-color=\"grey lighten-4\"\n            hide-details\n          ></v-text-field>\n        </v-card-title>\n        <v-data-table :headers=\"headers\" :items=\"foodList\" :search=\"search\">\n          <template v-slot:[`item.status`]=\"{ item }\">\n            <v-chip :color=\"getColor(item.status)\" dark>\n              {{ item.foodName }}\n            </v-chip>\n          </template>\n        </v-data-table>\n      </v-card>\n    </template>\n  </v-app>\n</template>\n\n<script>\nimport AdminSideBar from \"@/components/AdminSideBar.vue\";\nimport api from \"@/util/api\";\nexport default {\n  name: \"AdminView\",\n  components: {\n    AdminSideBar,\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      search: \"\",\n      headers: [\n        { text: \"ID\", value: \"foodId\" },\n        { text: \"Food Name\", value: \"foodName\" },\n        { text: \"Category\", value: \"foodCategory.categoryName\" },\n        { text: \"Price\", value: \"foodPrice\" },\n      ],\n      foodList: [],\n      categoryList: [],\n    };\n  },\n  async created() {\n    await this.fetchAllCategories();\n    await this.fetchAllFoods();\n  },\n  methods: {\n    async fetchAllCategories() {\n      const response = await api.get(\"/category/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.categoryList = data;\n      }\n    },\n    async fetchAllFoods() {\n      const response = await api.get(\"/food/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.foodList = data;\n      }\n    },\n    async deleteFood() {\n      const resp = await api.remove(\n        \"/admin/food/delete/\" + this.toDeleteMovie.id\n      );\n      if (resp.status === 200) {\n        this.deleteDialog = false;\n        await this.fetchMovies();\n      } else {\n        this.errorAlert = true;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.add-food {\n  background-color: #800015 !important;\n  color: #ffffff !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}