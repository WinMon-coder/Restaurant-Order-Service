{"ast":null,"code":"import api from \"@/util/api\";\nexport default {\n  data() {\n    return {\n      dialog: false,\n      delete_dialog: false,\n      selectDemo: {},\n      //  status: [\"finished\", \"not_started\", \"keep_on\"],\n      headers: [{\n        text: \"Name\",\n        value: \"name\"\n      }, {\n        text: \"Actions\",\n        value: \"actions\"\n      }],\n      categoryList: [],\n      newItem: {\n        name: \"\"\n      }\n    };\n  },\n  async created() {\n    await this.fetchAllCategories();\n  },\n  methods: {\n    async fetchAllCategories() {\n      const response = await api.get(\"/category/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.categoryList = data;\n      }\n    },\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n    async deleteItemConfirm(id) {\n      console.log();\n      const response = await api.remove(\"/category/delete/\" + id);\n      console.log(response);\n      //`/delete/${id}`\n      if (response && response.status == 200) {\n        this.delete_dialog = false;\n        await this.fetchAllCategories();\n        console.log(\"delete\");\n        // const data = await response.json();\n        //this.projects = data;\n      } else {\n        console.log(\"Cancle\");\n      }\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    },\n    saveCancel() {\n      this.dialog = false;\n    },\n    async save() {\n      const resp = await api.save(\"/category/create\", {\n        name: this.newItem.name,\n        members: this.newItem.members,\n        project_status: this.newItem.status,\n        startDate: this.newItem.startDate\n      });\n      if (resp) {\n        await this.fetchAllCategories();\n        this.dialog = false;\n        this.newItem = {};\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAsEA;AACA;EACAA;IACA;MACAC;MACAC;MACAC;MACA;MACAC,UACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;QACAC;MACA;IACA;EACA;EACA;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;MACAC;MACA;MACAA;MACA;MACA;QACA;QACA;QACAA;QACA;QACA;MACA;QACAA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;MACA;QACAL;QACAM;QACAC;QACAC;MACA;MACA;QACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["data","dialog","delete_dialog","selectDemo","headers","text","value","categoryList","newItem","name","methods","deleteItem","console","closeDelete","saveCancel","members","project_status","startDate"],"sourceRoot":"src/views","sources":["AdminCategoryView.vue"],"sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"projects\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <!-- for New Project     -->\n          <v-dialog v-model=\"dialog\" max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn color=\"primary\" dark class=\"mb-2\" v-bind=\"attrs\" v-on=\"on\">\n                New Item\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">Add New Project</span>\n              </v-card-title>\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field\n                        v-model=\"newItem.name\"\n                        label=\"Name\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"saveCancel\"\n                  >Cancel\n                </v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"save\"> Save </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n\n      <!-- Edit and Delete  -->\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n        <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n      </template>\n    </v-data-table>\n    <v-dialog v-model=\"delete_dialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title class=\"text-h5\"\n          >Are you sure you want to delete this item?</v-card-title\n        >\n        <v-card-text>{{ selectDemo.id }}</v-card-text>\n        <v-card-text>{{ selectDemo.name }}</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn @click=\"closeDelete\">Cancel</v-btn>\n          <v-btn @click=\"deleteItemConfirm(selectDemo.id)\">Delete</v-btn>\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport api from \"@/util/api\";\nexport default {\n  data() {\n    return {\n      dialog: false,\n      delete_dialog: false,\n      selectDemo: {},\n      //  status: [\"finished\", \"not_started\", \"keep_on\"],\n      headers: [\n        { text: \"Name\", value: \"name\" },\n        { text: \"Actions\", value: \"actions\" },\n      ],\n      categoryList: [],\n      newItem: {\n        name: \"\",\n      },\n    };\n  },\n  async created() {\n    await this.fetchAllCategories();\n  },\n  methods: {\n    async fetchAllCategories() {\n      const response = await api.get(\"/category/list\");\n      if (response.status === 200) {\n        const data = await response.json();\n        this.categoryList = data;\n      }\n    },\n    deleteItem(item) {\n      this.delete_dialog = true;\n      this.selectDemo = item;\n    },\n    async deleteItemConfirm(id) {\n      console.log();\n      const response = await api.remove(\"/category/delete/\" + id);\n      console.log(response);\n      //`/delete/${id}`\n      if (response && response.status == 200) {\n        this.delete_dialog = false;\n        await this.fetchAllCategories();\n        console.log(\"delete\");\n        // const data = await response.json();\n        //this.projects = data;\n      } else {\n        console.log(\"Cancle\");\n      }\n    },\n    closeDelete() {\n      this.delete_dialog = false;\n    },\n    saveCancel() {\n      this.dialog = false;\n    },\n    async save() {\n      const resp = await api.save(\"/category/create\", {\n        name: this.newItem.name,\n        members: this.newItem.members,\n        project_status: this.newItem.status,\n        startDate: this.newItem.startDate,\n      });\n      if (resp) {\n        await this.fetchAllCategories();\n        this.dialog = false;\n        this.newItem = {};\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}